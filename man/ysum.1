.TH  Tukubai 1 "20 Jun 2020" "usp Tukubai" "Tukubai コマンド マニュアル"

.br
ysum(1)
.br

.br
【名前】
.br

.br
ysum\ :\ 横集計
.br

.br
【書式】
.br

.br
Usage\ \ \ :\ ysum\ [+h]\ [num=<n>]\ <file>
.br
Version\ :\ Sat\ Jun\ 20\ 21:57:23\ JST\ 2020
.br
Edition\ :\ 1
.br

.br
【説明】
.br

.br
<file>ファイルの、同一行内の各フィールドの合計を行末に追加する。num=<n>で指定し
.br
たフィールドの次以降の全フィールドを集計して最終フィールドの後に追加する。
.br
num=<n>を省略した場合、num=0と同じ動作をする。
.br
<file>として-を指定すると標準入力を使用する。
.br

.br
【例1】
.br

.br

  $ cat data
  0000000 浜地______ 50 F 91 59 20 76 54  ←番号 氏名 年齢 性別 教科別点数A B C D E
  0000001 鈴田______ 50 F 46 39 8  5  21
  0000003 杉山______ 26 F 30 50 71 36 30
  0000004 白土______ 40 M 58 71 20 10 6
  0000005 崎村______ 50 F 82 79 16 21 80
  0000007 梶川______ 42 F 50 2  33 15 62

  $

.br
教科別の点数(5フィールド目以降)を集計して最終フィールドの次に追加する。
.br

.br

  $ ysum num=4 data
  0000000 浜地______ 50 F 91 59 20 76 54 300
  0000001 鈴田______ 50 F 46 39 8  5  21 119
  0000003 杉山______ 26 F 30 50 71 36 30 217
  0000004 白土______ 40 M 58 71 20 10 6 165
  0000005 崎村______ 50 F 82 79 16 21 80 278
  0000007 梶川______ 42 F 50 2  33 15 62 162

  $

.br
【例2】
.br

.br
+hオプションを指定すると先頭行以外の行を集計する。先頭行が項目名などのヘッダー
.br
のデータなどに使用する。このとき先頭行の集計値フィールドには@が追加される。
.br

.br
先頭行を飛ばして教科別の点数(5フィールド目以降)を集計して最終フィールドの次に追
.br
加するには次のようにコマンドを実行する。
.br

.br

  $ cat data
  No 氏名 年齢 性別 A B C D E                      ←番号 氏名 年齢 性別 教科別点数A B C D
  0000000 浜地______ 50 F 91 59 20 76 54
  0000001 鈴田______ 50 F 46 39 8  5  21
  0000003 杉山______ 26 F 30 50 71 36 30
  0000004 白土______ 40 M 58 71 20 10 6
  0000005 崎村______ 50 F 82 79 16 21 80
  0000007 梶川______ 42 F 50 2  33 15 62

  $

.br

  $ ysum +h num=4 data |  keta -
  \1 \2 \3名 年齢 性\1 \2 \3B  C  D  E\1 \2 \3先頭行の集計欄には@がつく
  0000000 浜地______\1 \2 \3F 91 59 20 76 54 300
  0000001 鈴田______\1 \2 \3F 46 39  8  5 21 119
  0000003 杉山______\1 \2 \3F 30 50 71 36 30 217
  0000004 白土______\1 \2 \3M 58 71 20 10  6 165
  0000005 崎村______\1 \2 \3F 82 79 16 21 80 278
  0000007 梶川______\1 \2 \3F 50  2 33 15 62 162

  $

.br
【関連項目】
.br

.br
kasan(1)、plus(1)、ratio(1)、sm2(1)、sm4(1)、sm5(1)
.br

.br
last\ modified:\ Fri\ Jul\ 15\ 16:29:50\ JST\ 2022
.br
Contact\ us:\ uecinfo@usp-lab.com
.br
Copyright\ (c)\ 2012-2022\ Universal\ Shell\ Programming\ Laboratory\ All\ Rights
.br
