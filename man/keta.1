.TH  Tukubai 1 "06 Sep 2022" "usp Tukubai" "Tukubai コマンド マニュアル"

.br
keta(1)
.br

.br
【名前】
.br

.br
keta\ :\ テキストファイルの桁そろえ
.br

.br
【書式】
.br

.br
Usage\ \ \ :\ keta\ n1\ n2\ ..\ [<filename>]
.br
          keta -v [<filename>]
.br
          keta [--] [<filename>]
.br
Version\ :\ Tue\ Sep\ \ 6\ 08:46:04\ JST\ 2022
.br
Edition\ :\ 1
.br

.br
【説明】
.br

.br
引数のファイルまたは標準入力のテキストデータの各フィールドの桁数をそろえて出力
.br
する。全フィールドに対してフィールド毎の桁数を指定する。
.br
指定桁数にそのフィールドの最大長未満を指定すると最大長がとられる。
.br
桁数指定をすべて省略すると各フィールドの桁数を自動的に判断して出力できる。
.br
フィールドは右詰めで出力するが、桁数指定に-を付けると左詰めにする。
.br
桁数指定をすべて省略して代わりに--を指定すると全フィールドを左詰めで出力する。
.br
<filename>として-を指定すると標準入力を使用する。
.br
桁数指定があるときは<filename>は省略可能になる。
.br
桁数指定がないときは<filename>は省略不可。
.br
-vまたは--指定があるときは桁数指定はできず<filename>は省略不可。
.br
<filename>が省略されたときは標準入力を仮定する。
.br

.br
【例1】
.br

.br
引数で指定したファイルの各フィールド毎に最大桁数を判断して桁数を自動出力する。
.br

.br

  $ cat data
  01 埼玉県 01 さいたま市 91 59 20 76 54
  01 埼玉県 02 川越市 46 39 8 5 21
  01 埼玉県 03 熊谷市 82 0 23 84 10
  02 東京都 04 新宿区 30 50 71 36 30
  02 東京都 06 港区 58 71 20 10 6
  04 神奈川県 13 横浜市 92 56 83 96 75

  $

.br

  $ keta data             ←右詰め
  01   埼玉県 01 さいたま市 91 59 20 76 54
  01   埼玉県 02     川越市 46 39  8  5 21
  01   埼玉県 03     熊谷市 82  0 23 84 10
  02   東京都 04     新宿区 30 50 71 36 30
  02   東京都 06       港区 58 71 20 10  6
  04 神奈川県 13     横浜市 92 56 83 96 75

  $

.br

  $ keta -- data          ←左詰め
  01 埼玉\1 \2 \3いたま市 91 59 20 76 54
  01 埼玉\1 \2 \3越市     46 39 8  5  21
  01 埼玉\1 \2 \3谷市     82 0  23 84 10
  02 東京\1 \2 \3宿区     30 50 71 36 30
  02 東京\1 \2 \3区       58 71 20 10 6
  04 神奈川県 13 横浜市     92 56 83 96 75

  $

.br
【例2】
.br

.br
各フィールド毎の桁数を指定して出力する。引数としてファイルの各フィールドの1番目
.br
から最終フィールドまでのそれぞれの桁数を順に指定する。
.br

.br
                ↓2フィールド目の桁数
.br
        keta n1 n2 n3 ・・・・nNF
.br
             ↑               ↑
.br
        1フィールド目の桁数  最終フィールド目の桁数
.br

.br
なお、桁数は半角での文字数で指定する。大文字の場合は半角2文字分の指定が必要であ
.br
る。keta\ 4は半角では4文字分、全角では2文字分になる。次のコマンドで例1と同じ出力
.br
が得られる。
.br

.br

  $ keta 2 8 2 10 2 2 2 2 2 data

.br
【例3】
.br

.br
通常は桁は右詰めで出力されるが、左詰めで出力する場合は桁数に-をつけて指定すれば
.br
良い。例えば第2フィールドと第4フィールドを左詰めにして出力するには次のようにコ
.br
マンドを実行する。
.br

.br

  $ keta 2 -8 2 -10 2 2 2 2 2 data
  01 埼玉\1 \2 \3いたま市 91 59 20 76 54
  01 埼玉\1 \2 \3越市     46 39  8  5 21
  01 埼玉\1 \2 \3谷\1 \2 \30 23 84 10
  02 東京\1 \2 \3宿区     30 50 71 36 30
  02 東京\1 \2 \3区       58 71 20 10  6
  04 神奈川県 13 横浜市     92 56 83 96 7

  $

.br
【例4】
.br

.br
同じ桁数を連続したフィールドに指定する場合は<桁数x連続するフィールド数>と表記す
.br
ることができる。keta\ 3x4はketa\ 3\ 3\ 3\ 3と同じ意味を持つ。フィールド数にはNF(1行
.br
のフィールド数)を使用しNF-xxと指定できる。次のコマンドで例3と同じ出力が得られる
.br
。
.br

.br

  $ keta 2 -8 2 -10 2x5 data

.br

  $ keta 2 -8 2 -10 2xNF-4 data

.br
【例5】
.br

.br
-vオプションを使用するとファイルの各フィールドの最大桁数を表示させることができ
.br
る。
.br

.br

  $ keta -v data
  2 8 2 10 2 2 2 2 2

  $

.br
次のコマンドで例1と同じ出力が得られる。
.br

.br

  $ keta $(keta -v data) data

.br
【関連項目】
.br

.br
comma(1)
.br

.br
last\ modified:\ Tue\ Sep\ \ 6\ 09:02:05\ JST\ 2022
.br
Contact\ us:\ uecinfo@usp-lab.com
.br
Copyright\ (c)\ 2012-2022\ Universal\ Shell\ Programming\ Laboratory\ All\ Rights
.br
