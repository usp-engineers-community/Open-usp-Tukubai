cjoin1x

＜名前＞
cjoin1x : キーの値が同じレコードが複数存在するファイル同士を連結。

＜書式＞
Usage   : cjoin1x [+ng[<fd>]] key=<n> <master> <tran>
Version : Thu Mar 19 12:15:02 JST 2015

＜説明＞
テキストファイル <tran> の "key=<n>" で指定したキーフィールドがマス
ターファイル <master> の第１フィールド（キーフィールド）とマッチした
行のみを <tran> から抽出して、<master> の情報を連結して出力します。
連結は <tran> のキーフィールドの直後に <master> の内容のうち
キーフィールド以外を挿入する形で行われます。

<master> の第１フィールドおよび <tran> のキーフィールドについては必
ず昇順でソートされていることが条件になります。

cjoin1 との違いは、マスターファイルのキーフィールドの値が同一のレコ
ードが複数存在できる点です。マスターとトランザクションファイルのキー
フィールド値が同一のレコード同士を総掛けで連結して出力します。

＜例１＞
（マスター：master）
$ cat master
1 東京1
1 東京2
2 大阪1
2 大阪2

（トランザクション：tran）
$ cat tran
3 栄
2 京橋
3 金山
1 上野
1 新宿
4 天神
2 難波
3 熱田
2 梅田
4 博多

$ cjoin1x key=1 master tran > data
$ cat data
2 大阪1 京橋
2 大阪2 京橋
1 東京1 上野
1 東京2 上野
1 東京1 新宿
1 東京2 新宿
2 大阪1 難波
2 大阪2 難波
2 大阪1 梅田
2 大阪2 梅田
